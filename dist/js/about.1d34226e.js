"use strict";(self["webpackChunkmy_app"]=self["webpackChunkmy_app"]||[]).push([[443],{9590:function(t,s,e){e.r(s),e.d(s,{default:function(){return S}});var a=e(3396),o=e(9242),i=e(7139),r=e(9780);const c={class:"card m-3",id:"form_bg"},l=(0,a._)("img",{alt:"Go Free logo",class:"nav_logo",src:r},null,-1),n=(0,a._)("h4",{class:"card-header"},"Create Login",-1),d={class:"card-body"},m=(0,a._)("h3",null,"Add/Edit a Referral",-1),h={class:"row"},u={class:"col-6"},f={class:"col-6"},p=(0,a._)("input",{type:"submit",value:"Save"},null,-1),_=(0,a._)("h3",null,"Referral List",-1),k=(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col-2"},"Name"),(0,a._)("div",{class:"col-2"},"Stock")],-1),v={class:"col-2"},g={class:"col-2"},w={class:"col-8"},y=["onClick"],E=["onClick"];function T(t,s,e,r,T,b){return(0,a.wg)(),(0,a.iD)("div",c,[l,n,(0,a._)("div",d,[m,(0,a._)("form",{onSubmit:s[2]||(s[2]=(0,o.iM)(((...t)=>b.update&&b.update(...t)),["prevent"]))},[(0,a._)("div",h,[(0,a._)("div",u,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[0]||(s[0]=s=>t.form.name=s),type:"text",placeholder:"Name",ref:"name",size:"60"},null,512),[[o.nr,t.form.name]])]),(0,a._)("div",f,[(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":s[1]||(s[1]=s=>t.form.stock=s),placeholder:"Stock",ref:"stock",size:"60",min:"0"},null,512),[[o.nr,t.form.stock]])])]),p],32)]),_,k,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.fruits,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"row",key:s},[(0,a._)("div",v,(0,i.zw)(t.name),1),(0,a._)("div",g,(0,i.zw)(t.stock),1),(0,a._)("div",w,[(0,a._)("a",{onClick:s=>b.edit(t),class:"btn"},"Edit",8,y),(0,a._)("a",{onClick:s=>b.remove(t),class:"btn"},"Remove",8,E)])])))),128))])}var b={name:"app",data:()=>({form:{id:-1,name:"",stock:0},fruits:[],method:"",url:"",data:{},fruit:""}),methods:{edit(t){console.log("EDIT FRUIT COUNT / NAME : "),this.form.name=t.name,this.form.stock=parseInt(t.stock),this.form.id=t.id},async remove(t){console.log("remove DELETE FRUIT : "),await fetch(`/api/fruits/${t.id}`,{method:"DELETE"}).then(this._success).catch(this._error)},async _refreshPageData(){const t=await fetch("/api/fruits",{method:"GET"});if(t.ok){const s=await t.json();this.fruits=s}else console.log(t.statusText)},async update(){console.log("update SAVE : "),this.form.name=this.$refs.name.value,this.form.stock=this.$refs.stock.value,-1==this.form.id?(this.method="POST",this.url="/api/fruits",this.data.name=this.form.name,this.data.stock=this.form.stock):(this.method="PUT",this.url="/api/fruits/"+this.form.id,this.data.name=this.form.name,this.data.stock=this.form.stock),await fetch(this.url,{method:this.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(this.data)}).then(this._success).catch(this._error)}},mounted:function(){console.log("mounted::"),this._refreshPageData()}},C=e(89);const D=(0,C.Z)(b,[["render",T]]);var S=D}}]);
//# sourceMappingURL=about.1d34226e.js.map