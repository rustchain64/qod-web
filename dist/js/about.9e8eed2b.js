"use strict";(self["webpackChunkmy_app"]=self["webpackChunkmy_app"]||[]).push([[443],{3478:function(t,s,e){e.r(s),e.d(s,{default:function(){return D}});var o=e(3396),a=e(9242),i=e(7139),l=e(5384);const r={class:"card m-3",id:"form_bg"},c=(0,o._)("img",{alt:"Go Free logo",class:"nav_logo",src:l},null,-1),n=(0,o._)("h4",{class:"card-header"},"Create Login",-1),d={class:"card-body"},m=(0,o._)("h3",null,"Add/Edit a Referral",-1),u={class:"row"},h={class:"col-6"},f={class:"col-6"},_=(0,o._)("input",{type:"submit",value:"Save"},null,-1),p=(0,o._)("h3",null,"Referral List",-1),k=(0,o._)("div",{class:"row"},[(0,o._)("div",{class:"col-2"},"Name"),(0,o._)("div",{class:"col-2"},"Stock")],-1),v={class:"col-2"},w={class:"col-2"},g={class:"col-8"},y=["onClick"],b=["onClick"];function E(t,s,e,l,E,T){const C=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",null,[(0,o.Wm)(C,{to:"/"},{default:(0,o.w5)((()=>[(0,o.Uk)("Home")])),_:1}),(0,o.Uk)(" | "),(0,o.Wm)(C,{to:"/about"},{default:(0,o.w5)((()=>[(0,o.Uk)("About")])),_:1})]),(0,o._)("div",r,[c,n,(0,o._)("div",d,[m,(0,o._)("form",{onSubmit:s[2]||(s[2]=(0,a.iM)(((...t)=>T.update&&T.update(...t)),["prevent"]))},[(0,o._)("div",u,[(0,o._)("div",h,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":s[0]||(s[0]=s=>t.form.name=s),type:"text",placeholder:"Name",ref:"name",size:"60"},null,512),[[a.nr,t.form.name]])]),(0,o._)("div",f,[(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":s[1]||(s[1]=s=>t.form.stock=s),placeholder:"Stock",ref:"stock",size:"60",min:"0"},null,512),[[a.nr,t.form.stock]])])]),_],32)]),p,k,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.fruits,((t,s)=>((0,o.wg)(),(0,o.iD)("div",{class:"row",key:s},[(0,o._)("div",v,(0,i.zw)(t.name),1),(0,o._)("div",w,(0,i.zw)(t.stock),1),(0,o._)("div",g,[(0,o._)("a",{onClick:s=>T.edit(t),class:"btn"},"Edit",8,y),(0,o._)("a",{onClick:s=>T.remove(t),class:"btn"},"Remove",8,b)])])))),128))])])}var T={name:"app",data:()=>({form:{id:-1,name:"",stock:0},fruits:[],method:"",url:"",data:{},fruit:""}),methods:{edit(t){console.log("EDIT FRUIT COUNT / NAME : "),this.form.name=t.name,this.form.stock=parseInt(t.stock),this.form.id=t.id},async remove(t){console.log("remove DELETE FRUIT : "),await fetch(`/api/fruits/${t.id}`,{method:"DELETE"}).then(this._success).catch(this._error)},async _refreshPageData(){const t=await fetch("/api/fruits",{method:"GET"});if(t.ok){const s=await t.json();this.fruits=s}else console.log(t.statusText)},async update(){console.log("update SAVE : "),this.form.name=this.$refs.name.value,this.form.stock=this.$refs.stock.value,-1==this.form.id?(this.method="POST",this.url="/api/fruits",this.data.name=this.form.name,this.data.stock=this.form.stock):(this.method="PUT",this.url="/api/fruits/"+this.form.id,this.data.name=this.form.name,this.data.stock=this.form.stock),await fetch(this.url,{method:this.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(this.data)}).then(this._success).catch(this._error)}},mounted:function(){console.log("mounted::"),this._refreshPageData()}},C=e(89);const U=(0,C.Z)(T,[["render",E]]);var D=U}}]);
//# sourceMappingURL=about.9e8eed2b.js.map